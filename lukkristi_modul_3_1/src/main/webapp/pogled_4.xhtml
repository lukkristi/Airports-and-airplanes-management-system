<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:view>
        <f:metadata>
            <f:event type="preRenderView" listener="#{pregledDnevnika.autentificiraj()}"/>
        </f:metadata>
        <h:head>
            <title>Facelet Title</title>
        </h:head>
        <h:body onload="#{pregledDnevnika.dohavtiDnevnikKorisnika()}">
            <h:link value="pogled 1 " outcome="pogled_1.xhtml"/><br/>
            <h:link value="pogled 4 " outcome="pogled_2.xhtml"/>
            <h:form id="logout">           
                <p:commandButton  action="#{odjava.unistiSesiju()}" value="ODJAVA">                   
                </p:commandButton>
            </h:form>
            <h:form>               
                <h:panelGrid id="Panela2">
                    <p:dataTable id="Dnevnik" value="#{pregledDnevnika.mojDnevnik}" rendered="true" rows="#{pregledDnevnika.brojRedova}" var="d"  paginator="true"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 rowsPerPageTemplate="5,10,50">
                        <p:column>
                            <f:facet name="header">Ime</f:facet>#{d.korisnik}
                        </p:column>
                        <p:column>
                            <f:facet name="header">IP adresa</f:facet>#{d.ipadresa}
                        </p:column>
                        <p:column>
                            <f:facet name="header">URL</f:facet>#{d.url}
                        </p:column>
                        <p:column>
                            <f:facet name="header">vrijeme</f:facet>#{d.vriejme}
                        </p:column>
                        <p:column>
                            <f:facet name="header">trajajnje</f:facet>#{d.trajanje}
                        </p:column>   
                    </p:dataTable><br/>
                </h:panelGrid>
            </h:form>
        </h:body>
    </f:view>
</html>

